<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>MedPy: Package medpy.graphcut.graph</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MedPy&#160;<span id="projectnumber">b0.1</span></div>
   <div id="projectbrief">Medicalimageprocessinginpython</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="namespacemembers.html"><span>Package&#160;Functions</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><b>medpy</b>      </li>
      <li class="navelem"><a class="el" href="namespacemedpy_1_1graphcut.html">graphcut</a>      </li>
      <li class="navelem"><a class="el" href="namespacemedpy_1_1graphcut_1_1graph.html">graph</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Package medpy.graphcut.graph</div>  </div>
</div>
<div class="contents">

<p>Create and modify graphs from nD label-images to be used in graph-cut algorithms.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmedpy_1_1graphcut_1_1graph_1_1Graph.html">Graph</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents a graph suitable for further processing with the graphcut package.  <a href="classmedpy_1_1graphcut_1_1graph_1_1Graph.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemedpy_1_1graphcut_1_1graph.html#a2fa7c97da5a7cf9c9e5ee62230eca8ba">graph_from_labels</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a  <a class="el" href="classmedpy_1_1graphcut_1_1graph_1_1Graph.html" title="Represents a graph suitable for further processing with the graphcut package.">Graph</a> object from a nD label image.  <a href="#a2fa7c97da5a7cf9c9e5ee62230eca8ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemedpy_1_1graphcut_1_1graph.html#a60e9e9c436bdb49797ba09b10d97fb2c">relabel</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Relabel the regions of a label image.  <a href="#a60e9e9c436bdb49797ba09b10d97fb2c"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Create and modify graphs from nD label-images to be used in graph-cut algorithms. </p>
<p>Classes:</p>
<ul>
<li>class <a class="el" href="classmedpy_1_1graphcut_1_1graph_1_1Graph.html" title="Represents a graph suitable for further processing with the graphcut package.">Graph</a>: a class for holding graphs</li>
</ul>
<p>Functions:</p>
<ul>
<li>def graph_from_labels(label_image, fg_markers, bg_markers, regional_term = False, boundary_term = False, directed = False, extract_marker_features = False, regional_term_args = False, boundary_term_args = False, extract_marker_features_args = False): Creates a <a class="el" href="classmedpy_1_1graphcut_1_1graph_1_1Graph.html" title="Represents a graph suitable for further processing with the graphcut package.">Graph</a> object from a nD label image</li>
<li>def relabel(label_image, start = 1): relabels a label image to be consecutive</li>
</ul>
<dl class="author"><dt><b>Author:</b></dt><dd>Oskar Maier </dd></dl>
<dl class="version"><dt><b>Version:</b></dt><dd>d0.1.0 </dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>2012-01-18  Development </dd></dl>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a2fa7c97da5a7cf9c9e5ee62230eca8ba"></a><!-- doxytag: member="medpy::graphcut::graph::graph_from_labels" ref="a2fa7c97da5a7cf9c9e5ee62230eca8ba" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def medpy.graphcut.graph.graph_from_labels </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>label_image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fg_markers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bg_markers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>regional_term</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>boundary_term</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>directed</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>extract_marker_features</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>regional_term_args</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>boundary_term_args</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>extract_marker_features_args</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a  <a class="el" href="classmedpy_1_1graphcut_1_1graph_1_1Graph.html" title="Represents a graph suitable for further processing with the graphcut package.">Graph</a> object from a nD label image. </p>
<p>The graph created consists of nodes, edges and weights (two type: n-weight, which are inter-node weights, and t-weights, which are terminat-to-node weights).</p>
<p>For every region in the supplied label image a node is generated with the region-id as node-id. Using ndim*2-connectedness (e.g. 3*2=6 for 3D) the neighbours of each region are determined and a edge created for each such pair of neighbours. The provides boundary_term function is used to compute the weights for all inter-node (i.e. inter region) weights (n-weights). For the terminal-to-node weights (t-weights) two approaches are taken: all regions that are touched by the supplied foreground mask (fg_markers) the weight from the source is set to a maximum ( Graph.MAX) and the weight to the sink to 0. For the background mask (bg_markers) vice-versa. All nodes that are not contained in these receive a weight calculated with the provided regional_term function.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">label_image,:</td><td>The label image as an array containing uint values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>: The region labels have to start from 1 and be continuous ( <a class="el" href="namespacemedpy_1_1graphcut_1_1graph.html#a60e9e9c436bdb49797ba09b10d97fb2c" title="Relabel the regions of a label image.">relabel()</a>).  label_image: numpy.ndarray </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fg_markers,:</td><td>The foreground markers as binary array.  fg_markers: ndarray </td></tr>
    <tr><td class="paramname">bg_markers,:</td><td>The background markers as binary array.  bg_markers: ndarray </td></tr>
    <tr><td class="paramname">regional_term,:</td><td>This can be either False - all t-weights are set to 0, except for the nodes that are directly connected to the source or sink. , or a function - The supplied function is used to compute the t_edges. It has to have the following signature source_weight, sink_weight = fun(label_image, region_bb, region_id, fg_featurs, bg_features, regional_term_args), where source_weight is the weight from the source to the node of the supplied region; sink_weight the weight from the node to the sink; fg_features the output of the extract_marker_features function over the foreground regions if supplied, otherwise False; bg_features the same for the background regions; region_bb the bounding box of the current region as a list of slice-objects; region_id the id og the regions; label_image the label image; and regional_term_args eventual additional parameters passed via the regional_term_args argument.  regional_term: function </td></tr>
    <tr><td class="paramname">boundary_term,:</td><td>This can be either False - In which case the weight of all n_edges i.e. between all nodes that are not source or sink, are set to 0. , or a function - In which case it is used to compute the edges weights. The supplied function has to have the following signature weight = fun(label_image, r1_bb, r2_bb, r1_id, r2_id, boundary_term_args), where r1_bb and r2_bb are the bounding boxes around the regions defined by a list of slice-objects, r1_id and r2_id the respective regions ids and boundary_term_args eventual additional parameters passed via the boundary_term_args argument. It is called for any two neighbouring regions. If the directed parameter is set to True, it is also called for the computation of the reversed weight.  boundary_term: function </td></tr>
    <tr><td class="paramname">directed,:</td><td>Set this to True, if the n_edges should be directed i.e. have different weights for both directions.  directed: bool </td></tr>
    <tr><td class="paramname">extract_marker_features,:</td><td>A function that has to follow the signature features = fun(label_image, bbs_of_marked_regions, is_foreground, extract_marker_features_args) and is called once with all regions that are marked by the foreground markers and once with all regions that are marked as background. The return values are passed to the regional_term function.  extract_marker_features: function </td></tr>
    <tr><td class="paramname">regional_term_args,:</td><td>Use this to pass some additional parameters to the regional_term function. </td></tr>
    <tr><td class="paramname">boundary_term_args,:</td><td>Use this to pass some additional parameters to the boundary_term function. </td></tr>
    <tr><td class="paramname">extract_marker_features_args,:</td><td>Use this to pass some additional parameters to the extract_marker_features function.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>: the created graph : <a class="el" href="classmedpy_1_1graphcut_1_1graph_1_1Graph.html" title="Represents a graph suitable for further processing with the graphcut package.">graph.Graph</a></dd></dl>
<p>AttributeError: If an argument is maleformed. </p>

<p>Definition at line <a class="el" href="graphcut_2graph_8py_source.html#l00317">317</a> of file <a class="el" href="graphcut_2graph_8py_source.html">graph.py</a>.</p>

</div>
</div>
<a class="anchor" id="a60e9e9c436bdb49797ba09b10d97fb2c"></a><!-- doxytag: member="medpy::graphcut::graph::relabel" ref="a60e9e9c436bdb49797ba09b10d97fb2c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def medpy.graphcut.graph.relabel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>label_image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Relabel the regions of a label image. </p>
<p>Re-processes the labels to make them consecutively and starting from start.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">label_image,:</td><td>a label image  label_image: numpy.ndarray </td></tr>
    <tr><td class="paramname">start,:</td><td>the id of the first label to assign  start: int </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>: The relabeled image. : numpy.ndarray </dd></dl>

<p>Definition at line <a class="el" href="graphcut_2graph_8py_source.html#l00625">625</a> of file <a class="el" href="graphcut_2graph_8py_source.html">graph.py</a>.</p>

</div>
</div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Jan 25 2012 13:44:16 for MedPy by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </small></address>
</body>
</html>
