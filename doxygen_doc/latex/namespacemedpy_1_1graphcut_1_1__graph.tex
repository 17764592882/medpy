\hypertarget{namespacemedpy_1_1graphcut_1_1__graph}{
\section{Package medpy.graphcut.\_\-graph}
\label{namespacemedpy_1_1graphcut_1_1__graph}\index{medpy.graphcut.\_\-graph@{medpy.graphcut.\_\-graph}}
}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespacemedpy_1_1graphcut_1_1__graph_ac3f4968888c0ab35e7789b816f4fd435}{graph\_\-from\_\-labels}
\begin{DoxyCompactList}\small\item\em Returns a graph created from a label image that is suitable as input for min-\/cut algorithm. \end{DoxyCompactList}\item 
def \hyperlink{namespacemedpy_1_1graphcut_1_1__graph_aa45ff458ff4e3afc46c5f268bf8c0494}{compute\_\-min\_\-cut}
\begin{DoxyCompactList}\small\item\em This function takes the graph, creates a temporary cpp file which is compiled with 'g++' and the maxflow library as shipped with medpy. \end{DoxyCompactList}\item 
def \hyperlink{namespacemedpy_1_1graphcut_1_1__graph_a83131846a657a495df7ada7de7883bc2}{parse\_\-results}
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{namespacemedpy_1_1graphcut_1_1__graph_a0af7a7f216a3ea4055de023fb1c0eeee}{\_\-\_\-INT\_\-16\_\-BIT} = 32767
\item 
int \hyperlink{namespacemedpy_1_1graphcut_1_1__graph_ac21489b41ad253ea1243f8aba21753df}{\_\-\_\-UINT\_\-16\_\-BIT} = 65535
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{namespacemedpy_1_1graphcut_1_1__graph_aa45ff458ff4e3afc46c5f268bf8c0494}{
\index{medpy::graphcut::\_\-graph@{medpy::graphcut::\_\-graph}!compute\_\-min\_\-cut@{compute\_\-min\_\-cut}}
\index{compute\_\-min\_\-cut@{compute\_\-min\_\-cut}!medpy::graphcut::_graph@{medpy::graphcut::\_\-graph}}
\subsubsection[{compute\_\-min\_\-cut}]{\setlength{\rightskip}{0pt plus 5cm}def medpy.graphcut.\_\-graph.compute\_\-min\_\-cut (
\begin{DoxyParamCaption}
\item[{}]{graph}
\end{DoxyParamCaption}
)}}
\label{namespacemedpy_1_1graphcut_1_1__graph_aa45ff458ff4e3afc46c5f268bf8c0494}


This function takes the graph, creates a temporary cpp file which is compiled with 'g++' and the maxflow library as shipped with medpy. 

The binary is then executed and the results collected. In this steps a lot can go wrong, so it has its own error message  SubprocessError, which aims to give some meaningful hints. 
\begin{DoxyParams}{Parameters}
{\em graphs,:} & The graph of the problem, e.g. created by \hyperlink{namespacemedpy_1_1graphcut_1_1__graph_ac3f4968888c0ab35e7789b816f4fd435}{graph\_\-from\_\-labels()} . \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
: The results as a string to be parsed by  \hyperlink{namespacemedpy_1_1graphcut_1_1__graph_a83131846a657a495df7ada7de7883bc2}{parse\_\-results()} . 
\end{DoxyReturn}


Definition at line 257 of file \_\-graph.py.

\hypertarget{namespacemedpy_1_1graphcut_1_1__graph_ac3f4968888c0ab35e7789b816f4fd435}{
\index{medpy::graphcut::\_\-graph@{medpy::graphcut::\_\-graph}!graph\_\-from\_\-labels@{graph\_\-from\_\-labels}}
\index{graph\_\-from\_\-labels@{graph\_\-from\_\-labels}!medpy::graphcut::_graph@{medpy::graphcut::\_\-graph}}
\subsubsection[{graph\_\-from\_\-labels}]{\setlength{\rightskip}{0pt plus 5cm}def medpy.graphcut.\_\-graph.graph\_\-from\_\-labels (
\begin{DoxyParamCaption}
\item[{}]{image, }
\item[{}]{label\_\-image, }
\item[{}]{fg\_\-markers, }
\item[{}]{bg\_\-markers, }
\item[{}]{regional\_\-term = {\ttfamily False}, }
\item[{}]{boundary\_\-term = {\ttfamily False}, }
\item[{}]{directed = {\ttfamily False}, }
\item[{}]{extract\_\-marker\_\-features = {\ttfamily False}, }
\item[{}]{regional\_\-term\_\-args = {\ttfamily False}, }
\item[{}]{boundary\_\-term\_\-args = {\ttfamily False}}
\end{DoxyParamCaption}
)}}
\label{namespacemedpy_1_1graphcut_1_1__graph_ac3f4968888c0ab35e7789b816f4fd435}


Returns a graph created from a label image that is suitable as input for min-\/cut algorithm. 

(Note: works only on 3D images for now) In the return tuple, the 'nodes' list holds the region-\/ids of all regions in the graph; 'edges' is a list of (region-\/id-\/a, region-\/id-\/b) pairs; 'n\_\-weights' a dictionary with (region-\/id-\/a, region-\/id-\/b) tuples as keys and the corresponding weights as values; and 't\_\-weights' a dictionary with the region-\/ids as keys and a tuple like (weight\_\-to\_\-source, weight\_\-to\_\-sink) as values. When the 'directed' parameter was set to True, 'n\_\-weights' contains also entries for (region-\/id-\/b, region-\/id-\/a). The neighbourhood used is the 6-\/connectivity as returned by generate\_\-binary\_\-structure(3, 1).


\begin{DoxyParams}{Parameters}
{\em image,:} & The original image as an array of arbitrary type. \\
\hline
{\em label\_\-image,:} & The label image as an array containing uint values. \\
\hline
{\em fg\_\-markers,:} & The foreground markers as binary array. \\
\hline
{\em bg\_\-markers,:} & The background markers as binary array. \\
\hline
{\em regional\_\-term,:} & This can be either False -\/ No weights are computed for the t\_\-edges leading from source to the node and from the node to the sink. Instead all are set to 0, except for the nodes that are directly connected to the source or sink, as determined by the fg and bg markers, which are set to +inf. , or a function -\/ The supplied function is used to compute the t\_\-edges. It has to have the following signature source\_\-weight, sink\_\-weight = fun(region, fg\_\-featurs, bg\_\-features \mbox{[},regional\_\-term\_\-args\mbox{]}), where source\_\-weight is the weight from the source to the node of the supplied region; sink\_\-weight the weight from the node to the sink; fg\_\-features the output of the extract\_\-marker\_\-features function over the foreground regions if supplied, otherwise False; bg\_\-features the same for the background regions; region an array holding the region the current node corresponds to; and regional\_\-term\_\-args eventual additional parameters passed via the regional\_\-term\_\-args argument. \\
\hline
{\em boundary\_\-term,:} & This can be either False -\/ In which case the weight of all n\_\-edges i.e. between all nodes that are not source or sink, are set to 0. , or a function -\/ In which case it is used to compute the edges weights. The supplied function has to have the following signature weight = fun(region-\/a, region-\/b \mbox{[},boundary\_\-term\_\-args\mbox{]}) and is called for any two neighbouring regions. If the directed parameter is set to True, it is also called for the computation of the reversed weight i.e. fun(region-\/b, region-\/a \mbox{[},boundary\_\-term\_\-args\mbox{]}). \\
\hline
{\em directed,:} & Set this to True, if the n\_\-edges should be directed i.e. have different weights for both directions. \\
\hline
{\em extract\_\-marker\_\-features,:} & A function that has to follow the signature features = fun(list\_\-of\_\-marked\_\-regions, is\_\-foreground) and is called once with all regions that are marked by the foreground markers and once with all regions that are marked as background. The return values are passed to the regional\_\-term function. \\
\hline
{\em regional\_\-term\_\-args,:} & Use this to pass some additional parameters to the regional\_\-term function. \\
\hline
{\em boundary\_\-term\_\-args,:} & Use this to pass some additional parameters to the boundary\_\-term function.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
: the graph as (nodes, edges, n\_\-weights, t\_\-weigths) 
\end{DoxyReturn}


Definition at line 109 of file \_\-graph.py.

\hypertarget{namespacemedpy_1_1graphcut_1_1__graph_a83131846a657a495df7ada7de7883bc2}{
\index{medpy::graphcut::\_\-graph@{medpy::graphcut::\_\-graph}!parse\_\-results@{parse\_\-results}}
\index{parse\_\-results@{parse\_\-results}!medpy::graphcut::_graph@{medpy::graphcut::\_\-graph}}
\subsubsection[{parse\_\-results}]{\setlength{\rightskip}{0pt plus 5cm}def medpy.graphcut.\_\-graph.parse\_\-results (
\begin{DoxyParamCaption}
\item[{}]{results}
\end{DoxyParamCaption}
)}}
\label{namespacemedpy_1_1graphcut_1_1__graph_a83131846a657a495df7ada7de7883bc2}

\begin{DoxyParams}{Parameters}
{\em results,:} & The output produced by running the maxflow algorithm. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
: (maxflow, \{node: source$|$sink, ...\}) 
\end{DoxyReturn}


Definition at line 332 of file \_\-graph.py.



\subsection{Variable Documentation}
\hypertarget{namespacemedpy_1_1graphcut_1_1__graph_a0af7a7f216a3ea4055de023fb1c0eeee}{
\index{medpy::graphcut::\_\-graph@{medpy::graphcut::\_\-graph}!\_\-\_\-INT\_\-16\_\-BIT@{\_\-\_\-INT\_\-16\_\-BIT}}
\index{\_\-\_\-INT\_\-16\_\-BIT@{\_\-\_\-INT\_\-16\_\-BIT}!medpy::graphcut::_graph@{medpy::graphcut::\_\-graph}}
\subsubsection[{\_\-\_\-INT\_\-16\_\-BIT}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf medpy::graphcut::\_\-graph.\_\-\_\-INT\_\-16\_\-BIT} = 32767}}
\label{namespacemedpy_1_1graphcut_1_1__graph_a0af7a7f216a3ea4055de023fb1c0eeee}


Definition at line 41 of file \_\-graph.py.

\hypertarget{namespacemedpy_1_1graphcut_1_1__graph_ac21489b41ad253ea1243f8aba21753df}{
\index{medpy::graphcut::\_\-graph@{medpy::graphcut::\_\-graph}!\_\-\_\-UINT\_\-16\_\-BIT@{\_\-\_\-UINT\_\-16\_\-BIT}}
\index{\_\-\_\-UINT\_\-16\_\-BIT@{\_\-\_\-UINT\_\-16\_\-BIT}!medpy::graphcut::_graph@{medpy::graphcut::\_\-graph}}
\subsubsection[{\_\-\_\-UINT\_\-16\_\-BIT}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf medpy::graphcut::\_\-graph.\_\-\_\-UINT\_\-16\_\-BIT} = 65535}}
\label{namespacemedpy_1_1graphcut_1_1__graph_ac21489b41ad253ea1243f8aba21753df}


Definition at line 42 of file \_\-graph.py.

