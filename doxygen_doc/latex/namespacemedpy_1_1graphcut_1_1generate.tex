\hypertarget{namespacemedpy_1_1graphcut_1_1generate}{
\section{Package medpy.graphcut.generate}
\label{namespacemedpy_1_1graphcut_1_1generate}\index{medpy.graphcut.generate@{medpy.graphcut.generate}}
}


Generates output files from graphs that are processable by graph-\/cut algorithms.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \hyperlink{namespacemedpy_1_1graphcut_1_1generate_a5533013ae970ceb90ca67cf4e6f1da41}{graph\_\-from\_\-voxels}
\begin{DoxyCompactList}\small\item\em Create a \hyperlink{classmedpy_1_1graphcut_1_1graph_1_1Graph}{graphcut.graph.Graph} object for all voxels of an image with a ndim $\ast$ 2 neighbourhood. \end{DoxyCompactList}\item 
def \hyperlink{namespacemedpy_1_1graphcut_1_1generate_a137ecdeeb31eb5be7bdcf70da1509477}{graph\_\-from\_\-labels}
\begin{DoxyCompactList}\small\item\em Create a \hyperlink{classmedpy_1_1graphcut_1_1graph_1_1Graph}{graphcut.graph.Graph} object from a nD label image. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Generates output files from graphs that are processable by graph-\/cut algorithms. Provides functionality to generate graphs efficiently from nD label-\/images and image voxels.

All functions in this module are highly depend on the actual implementation of the graph-\/cut algorithm they are intended to be used for. They require a minimal version number and it can not be ensured, that they will work with other versions.

See the package description for a list of the supported graph-\/cut implementations.

Functions:
\begin{DoxyItemize}
\item def bk\_\-mfmc\_\-generate(graph): Generate a C++ file for Boyov and Kolmogorovs max-\/flow/min-\/cut algorithm.
\end{DoxyItemize}

\begin{DoxyAuthor}{Author}
Oskar Maier 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
d0.1.0 
\end{DoxyVersion}
\begin{DoxySince}{Since}
2012-\/01-\/18  Development
\end{DoxySince}
Functions:
\begin{DoxyItemize}
\item def graph\_\-from\_\-labels(label\_\-image, fg\_\-markers, bg\_\-markers, regional\_\-term = False, boundary\_\-term = False, regional\_\-term\_\-args = False, boundary\_\-term\_\-args = False): Creates a Graph object from a nD label image.
\item def graph\_\-from\_\-voxels(fg\_\-markers, bg\_\-markers, regional\_\-term = False, boundary\_\-term = False, regional\_\-term\_\-args = False, boundary\_\-term\_\-args = False): Creates a Graph object from the voxels of an image. \begin{DoxyAuthor}{Author}
Oskar Maier 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
r0.2.0 
\end{DoxyVersion}
\begin{DoxySince}{Since}
2012-\/01-\/18  Release 
\end{DoxySince}

\end{DoxyItemize}

\subsection{Function Documentation}
\hypertarget{namespacemedpy_1_1graphcut_1_1generate_a137ecdeeb31eb5be7bdcf70da1509477}{
\index{medpy::graphcut::generate@{medpy::graphcut::generate}!graph\_\-from\_\-labels@{graph\_\-from\_\-labels}}
\index{graph\_\-from\_\-labels@{graph\_\-from\_\-labels}!medpy::graphcut::generate@{medpy::graphcut::generate}}
\subsubsection[{graph\_\-from\_\-labels}]{\setlength{\rightskip}{0pt plus 5cm}def medpy.graphcut.generate.graph\_\-from\_\-labels (
\begin{DoxyParamCaption}
\item[{}]{label\_\-image, }
\item[{}]{fg\_\-markers, }
\item[{}]{bg\_\-markers, }
\item[{}]{regional\_\-term = {\ttfamily False}, }
\item[{}]{boundary\_\-term = {\ttfamily False}, }
\item[{}]{regional\_\-term\_\-args = {\ttfamily False}, }
\item[{}]{boundary\_\-term\_\-args = {\ttfamily False}}
\end{DoxyParamCaption}
)}}
\label{namespacemedpy_1_1graphcut_1_1generate_a137ecdeeb31eb5be7bdcf70da1509477}


Create a \hyperlink{classmedpy_1_1graphcut_1_1graph_1_1Graph}{graphcut.graph.Graph} object from a nD label image. 

Every region of the label image is regarded as a node. They are connected to their immediate neighbours by arcs. If to regions are neighbours is determined using ndim$\ast$2-\/connectedness (e.g. 3$\ast$2=6 for 3D). In the next step the arcs weights (n-\/weights) are computed using the supplied boundary\_\-term function.

Implicitly the graph holds two additional nodes: the source and the sink, so called terminal nodes. These are connected with all other nodes through arcs of an initial weight (t-\/weight) of zero. All regions that are under the foreground markers are considered to be tightly bound to the source: The t-\/weight of the arc from source to these nodes is set to a maximum value. The same goes for the background markers: The covered regions receive a maximum (graphcut.graph.Graph.MAX) t-\/weight for their arc towards the sink.

\begin{DoxyNote}{Note}
If a region is marked as both, foreground and background, the background marker is given higher priority.

all arcs whose weight is not explicitly set are assumed to carry a weight of zero.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em label\_\-image} & The label image as an array containing uint values. Note that the region labels have to start from 1 and be continuous (\hyperlink{namespacemedpy_1_1filter_1_1label_abfba87c8b8fb3f0fb0e311dc90b20fba}{filter.label.relabel()}).  label\_\-image numpy.ndarray \\
\hline
{\em fg\_\-markers} & The foreground markers as binary array of the same shape as the label image.  fg\_\-markers ndarray \\
\hline
{\em bg\_\-markers} & The background markers as binary array of the same shape as the label image.  bg\_\-markers ndarray \\
\hline
{\em regional\_\-term} & This can be either False -\/ all t-\/weights are set to 0, except for the nodes that are directly connected to the source or sink. , or a function -\/ The supplied function is used to compute the t\_\-edges. It has to have the following signature regional\_\-term(label\_\-image, regions, bounding\_\-boxes, regional\_\-term\_\-args), and is supposed to return a dictionary with region-\/ids as keys and a tuple (source\_\-t\_\-weight, sink\_\-t\_\-weight) as values. The returned dictionary does only need to contain entries for nodes where one of the t-\/weights is not zero. Additional parameters can be passed via the regional\_\-term\_\-args argument.  regional\_\-term function \\
\hline
{\em boundary\_\-term} & This can be either False -\/ In which case the weight of all n\_\-edges i.e. between all nodes that are not source or sink, are set to 0. , or a function -\/ In which case it is used to compute the edges weights. The supplied function has to have the following signature fun(label\_\-image, boundary\_\-term\_\-args), and is supposed to return a dictionary with the graphs edges as keys and their n-\/weights as values. These weights are tuples of numbers assigning the weights in both directions of the edge. Additional parameters can be passed via the boundary\_\-term\_\-args argument.  boundary\_\-term function \\
\hline
{\em regional\_\-term\_\-args} & Use this to pass some additional parameters to the regional\_\-term function. \\
\hline
{\em boundary\_\-term\_\-args} & Use this to pass some additional parameters to the boundary\_\-term function.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the created graph  \hyperlink{classmedpy_1_1graphcut_1_1graph_1_1Graph}{graphcut.graph.Graph}
\end{DoxyReturn}
AttributeError If an argument is maleformed.  FunctionError If one of the supplied functions returns unexpected results. 

Definition at line 227 of file generate.py.

\hypertarget{namespacemedpy_1_1graphcut_1_1generate_a5533013ae970ceb90ca67cf4e6f1da41}{
\index{medpy::graphcut::generate@{medpy::graphcut::generate}!graph\_\-from\_\-voxels@{graph\_\-from\_\-voxels}}
\index{graph\_\-from\_\-voxels@{graph\_\-from\_\-voxels}!medpy::graphcut::generate@{medpy::graphcut::generate}}
\subsubsection[{graph\_\-from\_\-voxels}]{\setlength{\rightskip}{0pt plus 5cm}def medpy.graphcut.generate.graph\_\-from\_\-voxels (
\begin{DoxyParamCaption}
\item[{}]{fg\_\-markers, }
\item[{}]{bg\_\-markers, }
\item[{}]{regional\_\-term = {\ttfamily False}, }
\item[{}]{boundary\_\-term = {\ttfamily False}, }
\item[{}]{regional\_\-term\_\-args = {\ttfamily False}, }
\item[{}]{boundary\_\-term\_\-args = {\ttfamily False}}
\end{DoxyParamCaption}
)}}
\label{namespacemedpy_1_1graphcut_1_1generate_a5533013ae970ceb90ca67cf4e6f1da41}


Create a \hyperlink{classmedpy_1_1graphcut_1_1graph_1_1Graph}{graphcut.graph.Graph} object for all voxels of an image with a ndim $\ast$ 2 neighbourhood. 

Every voxel of the image is regarded as a node. They are connected to their immediate neighbours via arcs. If to voxels are neighbours is determined using ndim$\ast$2-\/connectedness (e.g. 3$\ast$2=6 for 3D). In the next step the arcs weights (n-\/weights) are computed using the supplied boundary\_\-term function.

Implicitly the graph holds two additional nodes: the source and the sink, so called terminal nodes. These are connected with all other nodes through arcs of an initial weight (t-\/weight) of zero. All voxels that are under the foreground markers are considered to be tightly bound to the source: The t-\/weight of the arc from source to these nodes is set to a maximum value. The same goes for the background markers: The covered voxels receive a maximum (graphcut.graph.Graph.MAX) t-\/weight for their arc towards the sink.

\begin{DoxyNote}{Note}
If a voxel is marked as both, foreground and background, the background marker is given higher priority.

all arcs whose weight is not explicitly set are assumed to carry a weight of zero.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em fg\_\-markers} & The foreground markers as binary array of the same shape as the original image.  fg\_\-markers ndarray \\
\hline
{\em bg\_\-markers} & The background markers as binary array of the same shape as the original image.  bg\_\-markers ndarray \\
\hline
{\em regional\_\-term} & This can be either False -\/ all t-\/weights are set to 0, except for the nodes that are directly connected to the source or sink. , or a function -\/ The supplied function is used to compute the t\_\-edges. It has to have the following signature regional\_\-term(regional\_\-term\_\-args), and is supposed to return a dictionary with flattened voxel ids as keys and a tuple (source\_\-t\_\-weight, sink\_\-t\_\-weight) as values. The returned dictionary does only need to contain entries for nodes where one of the t-\/weights is not zero. Additional parameters can be passed via the regional\_\-term\_\-args argument.  regional\_\-term function \\
\hline
{\em boundary\_\-term} & This can be either False -\/ In which case the weight of all n\_\-edges i.e. between all nodes that are not source or sink, are set to 0. , or a function -\/ In which case it is used to compute the edges weights. The supplied function has to have the following signature fun(boundary\_\-term\_\-args), and is supposed to return a dictionary with the graphs edges as keys and their n-\/weights as values. These weights are tuples of numbers assigning the weights in both directions of the edge. Additional parameters can be passed via the boundary\_\-term\_\-args argument.  boundary\_\-term function \\
\hline
{\em regional\_\-term\_\-args} & Use this to pass some additional parameters to the regional\_\-term function. \\
\hline
{\em boundary\_\-term\_\-args} & Use this to pass some additional parameters to the boundary\_\-term function.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the created graph  \hyperlink{classmedpy_1_1graphcut_1_1graph_1_1Graph}{graphcut.graph.Graph}
\end{DoxyReturn}
AttributeError If an argument is maleformed.  FunctionError If one of the supplied functions returns unexpected results. 

Definition at line 102 of file generate.py.

